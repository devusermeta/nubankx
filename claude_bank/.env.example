# ========================================
# BankX Multi-Agent Banking System
# Environment Configuration Template
# ========================================
# Copy this file to .env and fill in your values
# For production, use .env.prod

# ========================================
# APPLICATION SETTINGS
# ========================================
APP_NAME="Copilot Multi Agent Chat API"
PROFILE=dev  # dev, staging, or prod

# ========================================
# AZURE AI FOUNDRY CONFIGURATION
# ========================================
FOUNDRY_PROJECT_ENDPOINT=https://your-foundry-project.cognitiveservices.azure.com/
FOUNDRY_MODEL_DEPLOYMENT_NAME=gpt-4o

# Azure OpenAI (for Azure Chat agents)
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
AZURE_OPENAI_CHAT_DEPLOYMENT_NAME=gpt-4o

# ========================================
# AZURE AI AGENT IDS (from Azure Portal)
# Created: Nov 15, 2025
# ========================================
SUPERVISOR_AGENT_ID=asst_n2vjRRiUPZAnewYc73GNvwFAdfads
ACCOUNT_AGENT_ID=asst_keTclryY22YcSXceBXzXeGmUsadasasd
TRANSACTION_AGENT_ID=asst_PQswtc01Lzubjc3yLATPQm8Udasds
PAYMENT_AGENT_ID=asst_ILaIlrPGtBWrWJDCpny0GqzHdsadsa
PRODINFO_FAQ_AGENT_ID=asst_XoEA7BkjnXaFpElLuNWD81E1qwafsf
AI_MONEY_COACH_AGENT_ID=asst_WJ9JomBttAWTu7JMwmrFRdZbqwcs
ESCALATION_COMMS_AGENT_ID=asst_OZGs7bJTO2zK1YIy2xtVLisLtewsf

# ========================================
# PHASE 1: A2A MIGRATION (NEW - Jan 2026)
# ========================================
# Feature Flags: Enable A2A agents (set to true to use new A2A services)
# RECOMMENDED: Start with AccountAgent, then add Transaction, then Payment
USE_A2A_FOR_ACCOUNT_AGENT=true
USE_A2A_FOR_TRANSACTION_AGENT=false
USE_A2A_FOR_PAYMENT_AGENT=false

# A2A Microservice URLs
ACCOUNT_AGENT_A2A_URL=http://localhost:9001
TRANSACTION_AGENT_A2A_URL=http://localhost:9002
PAYMENT_AGENT_A2A_URL=http://localhost:9003

# Azure AI Foundry V2 (NEW - for A2A agents)
# Get these from Azure Portal > Your AI Project > Settings
AZURE_AI_PROJECT_ENDPOINT=https://your-project.services.ai.azure.com/api/projects/your-project
AZURE_AI_PROJECT_API_KEY=your_api_key_here

# ========================================
# AZURE SERVICES
# ========================================
# Storage Account (for file uploads, invoices)
AZURE_STORAGE_ACCOUNT=your-storage-account
AZURE_STORAGE_CONTAINER=content

# Document Intelligence (for invoice scanning)
AZURE_DOCUMENT_INTELLIGENCE_SERVICE=your-doc-intelligence-service

# Managed Identity (leave as system-managed-identity or provide client ID)
AZURE_CLIENT_ID=system-managed-identity

# ========================================
# LOGGING & MONITORING
# ========================================
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-instrumentation-key;IngestionEndpoint=https://...
ENABLE_OTEL=true

# ========================================
# UC1: FINANCIAL OPERATIONS - MCP SERVERS
# ========================================
# Port 8070: Account Service
ACCOUNT_MCP_URL=http://localhost:8070

# Port 8071: Transaction/Reporting Service
TRANSACTION_MCP_URL=http://localhost:8071

# Port 8072: Payment Service
PAYMENT_MCP_URL=http://localhost:8072

# Port 8073: Limits Service
LIMITS_MCP_URL=http://localhost:8073

# Port 8074: Contacts Service
CONTACTS_MCP_URL=http://localhost:8074

# Port 8075: Audit/Decision Ledger Service
AUDIT_MCP_URL=http://localhost:8075

# ========================================
# UC2: PRODUCT INFO & FAQ - MCP SERVER
# ========================================
# Port 8076: ProdInfoFAQ MCP Server
PRODINFO_FAQ_MCP_URL=http://localhost:8076

# Azure AI Search for Product Documents
AZURE_AI_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
AZURE_AI_SEARCH_KEY=your-search-admin-key
AZURE_AI_SEARCH_INDEX_UC2=bankx-products-faq

# Azure AI Foundry Content Understanding (for grounding validation)
AZURE_CONTENT_UNDERSTANDING_ENDPOINT=https://your-foundry-project.cognitiveservices.azure.com/

# ========================================
# UC3: AI MONEY COACH - MCP SERVER
# ========================================
# Port 8077: AIMoneyCoach MCP Server
AI_MONEY_COACH_MCP_URL=http://localhost:8077

# Azure AI Search for Money Coach Document
AZURE_AI_SEARCH_INDEX_UC3=bankx-money-coach

# ========================================
# ESCALATION & TICKET MANAGEMENT
# ========================================
# Port 8078: EscalationComms MCP Server (shared by UC2/UC3)
ESCALATION_COMMS_MCP_URL=http://localhost:8078

# Azure CosmosDB (for ticket storage)
AZURE_COSMOSDB_ENDPOINT=https://your-cosmos-account.documents.azure.com:443/
AZURE_COSMOSDB_DATABASE=bankx
AZURE_COSMOSDB_CONTAINER_TICKETS=support_tickets

# Azure Communication Services (for email)
AZURE_COMMUNICATION_SERVICES_ENDPOINT=https://your-acs-resource.communication.azure.com/
AZURE_COMMUNICATION_SERVICES_EMAIL_FROM=support@bankx.com

# ========================================
# AZURE PURVIEW - DATA LINEAGE TRACKING
# ========================================
PURVIEW_ACCOUNT_NAME=bankx-purview
PURVIEW_ENABLED=true
AZURE_PURVIEW_ENDPOINT=https://bankx-purview.purview.azure.com

# Purview tracking configuration
PURVIEW_TRACK_MCP_CALLS=true
PURVIEW_TRACK_AGENT_ROUTING=true
PURVIEW_TRACK_RAG_SEARCHES=true

# Performance settings
PURVIEW_ASYNC_MODE=true
PURVIEW_BATCH_SIZE=10
PURVIEW_RETRY_COUNT=3

# ========================================
# SERVICE PORTS (Reference)
# ========================================
# Port 8070: Account MCP Service
# Port 8071: Transaction MCP Service
# Port 8072: Payment MCP Service
# Port 8073: Limits MCP Service
# Port 8074: Contacts MCP Service
# Port 8075: Audit MCP Service
# Port 8076: ProdInfoFAQ MCP Service (UC2)
# Port 8077: AIMoneyCoach MCP Service (UC3)
# Port 8078: EscalationComms MCP Service (UC2/UC3)
# Port 8080: Copilot Backend (FastAPI)
# Port 8081: Frontend (React)

# ========================================
# DEVELOPMENT OVERRIDES
# ========================================
# LOG_LEVEL=DEBUG
# HOST=0.0.0.0
# CORS_ORIGINS=http://localhost:8081,http://localhost:3000
